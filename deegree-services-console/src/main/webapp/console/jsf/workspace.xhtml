<ui:composition template="/layout.xhtml" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:dg="http://deegree.org/jsf" xmlns:dgc="http://java.sun.com/jsf/composite/deegree">
    <ui:define name="center">
        <h:panelGroup rendered="#{!logBean.loggedIn}">
            <ui:include src="accessForbidden.xhtml" />
        </h:panelGroup>
        <h:panelGroup rendered="#{logBean.loggedIn}">
            <h:form>
                <fieldset class="fieldset"><legend><h:outputText styleClass="titel"
                    value="#{labels.workspace_title}" /></legend>
                <table style="font-size: small" border="0">
                    <tr>
                        <td colspan="2"><h:outputFormat value="#{labels.workspace_name}"
                            style="margin: 10px 0px; font-size:small">
                            <f:param value="#{applicationBean.workspaceName}" />
                        </h:outputFormat></td>
                    </tr>
                    <tr>
                        <td colspan="2"><h:outputFormat value="#{labels.workspace_dir}"
                            style="margin: 10px 0px; font-size:small">
                            <f:param value="#{applicationBean.workspaceDirectory}" />
                        </h:outputFormat></td>
                    </tr>
                    <tr>
                        <td />
                        <td />
                    </tr>
                    <tr>
                        <td><h:outputText style="margin: 10px 0px; font-size:small" value="Available workspaces:" /></td>
                        <td />
                    </tr>
                    <tr>
                        <td />
                        <td />
                    </tr>
                    <tr align="left">
                        <td><h:outputText style="margin: 10px 0px; font-size:small" value="Webapp workspace" /></td>
                        <td><h:commandButton styleClass="buttonInfo" label=""
                            value="#{labels.start_original_workspace}" onclick="show();"
                            rendered="#{applicationBean.workspaceName != 'default(external)'}"
                            actionListener="#{configManager.startWorkspace}" /><h:outputText
                            style="margin: 10px 0px; font-size:small" value="#{labels.running_workspace}"
                            rendered="#{applicationBean.workspaceName == 'default(external)'}" /></td>
                    </tr>
                    <ui:repeat var="workspace" value="#{configManager.workspaceList}">
                        <tr align="left">
                            <td><h:outputText style="margin: 10px 0px; font-size:small" value="#{workspace}" /></td>
                            <td><h:commandButton styleClass="buttonInfo" label="${workspace}"
                                value="#{labels.start_workspace}" onclick="show();"
                                rendered="#{applicationBean.workspaceName != workspace}"
                                actionListener="#{configManager.startWorkspace}" /><h:outputText
                                style="margin: 10px 0px; font-size:small" value="#{labels.running_workspace}"
                                rendered="#{applicationBean.workspaceName == workspace}" /></td>
                        </tr>
                    </ui:repeat>
                </table>
                </fieldset>
            </h:form>
        </h:panelGroup>
    </ui:define>
</ui:composition>
