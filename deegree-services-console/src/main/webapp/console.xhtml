<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
  xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
  xmlns:fn="http://java.sun.com/jsp/jstl/functions">
<h:head>
  <title>deegree 3 services</title>
  <h:outputStylesheet name="styles.css" />
</h:head>
<h:body>
  <pre><h:outputText value="#{applicationBean.logo}" /></pre>
  ...has been successfully installed on this server.
  <br />
  <br />  
  ------------------------------------------------------------------------------  
  <br />
    Version information
  <br />
  ------------------------------------------------------------------------------
  <br />  
  <br />
  <ui:repeat value="#{applicationBean.moduleInfos}" var="moduleInfo">
    - <h:outputText value="#{moduleInfo}" />
    <br />
  </ui:repeat>
  <br />
      
      <h:panelGroup id="workspace">
      <h:form>
      ------------------------------------------------------------------------------<br />
      Workspace<br />                  
      ------------------------------------------------------------------------------<br />
      <br/>      
      - Name: <h:outputText value="#{applicationBean.workspaceName}" /><br/>      
      - Directory: <h:outputText value="#{applicationBean.workspaceDirectory}" />
      <br />
      <br />
      </h:form>
      </h:panelGroup>

      <h:form>          
      ------------------------------------------------------------------------------<br />
      Web services<br />
      ------------------------------------------------------------------------------<br />
      <br />      
	  <ui:repeat value="#{serviceConfigManager.configs}" var="config">
	    - <h:outputText value="#{config.id}" />: <h:outputText value="#{config.status}" />
	    [<h:commandLink value="Edit" action="#{config.edit}"/>]
	    [<h:commandLink rendered="#{!config.deactivated}" value="Deactivate" action="#{config.deactivate}"/><h:commandLink rendered="#{config.deactivated}" value="Activate" action="#{config.activate}"/>]	    
	    <br />
	  </ui:repeat>
      </h:form>
      <br/>      

	  <h:form>
      <h:panelGroup id="featurestores">
      ------------------------------------------------------------------------------<br />
      Feature stores<br />
      ------------------------------------------------------------------------------<br />
      <br />      
	  <ui:repeat value="#{featureStoreConfigManager.configs}" var="config">
	    - <h:outputText value="#{config.id}" />: <h:outputText value="#{config.status}" />
	    [<h:commandLink value="Edit" action="#{config.edit}"/>]
	    [<h:commandLink value="Delete" action="#{config.delete}"/>]
        [<h:commandLink rendered="#{!config.deactivated}" value="Deactivate" action="#{config.deactivate}"/><h:commandLink rendered="#{config.deactivated}" value="Activate" action="#{config.activate}"/>]
        [<h:commandLink value="Create tables" action="#{config.createTables}"/>]	    
	    <br />
	  </ui:repeat>
      <br />
      Add: <h:inputText value="#{newConnectionConfig.id}" size="16"/>
        <h:commandButton value="OK" action="#{newConnectionConfig.create}"/>      
      </h:panelGroup>
      </h:form>
      <br/>

	  <h:form>
      <h:panelGroup id="jdbc">
      ------------------------------------------------------------------------------<br />
      JDBC connections<br />
      ------------------------------------------------------------------------------<br />
      <br />      
	  <ui:repeat value="#{connectionConfigManager.configs}" var="config">
	    - <h:outputText value="#{config.id}" />: <h:outputText value="#{config.status}" />
	    [<h:commandLink value="Edit" action="#{config.edit}"/>]
	    [<h:commandLink value="Delete" action="#{config.delete}"/>]	    
	    <br />
	  </ui:repeat>
      <br />
      Add: <h:inputText value="#{newConnectionConfig.id}" size="16"/>
        <h:commandButton value="OK" action="#{newConnectionConfig.create}"/>      
      </h:panelGroup>
      </h:form>
      <br/>
      ------------------------------------------------------------------------------<br />
      <br/>
      <h:panelGroup rendered="#{applicationBean.pendingChanges}">
      <h:form>
      Configuration has been changed. [<h:commandLink value="Reload" action="#{applicationBean.applyChanges}"/>]            
      </h:form>
      </h:panelGroup>
      <h:panelGroup rendered="#{!applicationBean.pendingChanges}">
      <h:form>
      No configuration changes pending. [<h:commandLink value="Reload anyway" action="#{applicationBean.applyChanges}"/>            
      </h:form>
      </h:panelGroup>
      <br/>      
</h:body>
</html>