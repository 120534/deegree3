<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<head><title>A status component</title></head>
<body>

	<composite:interface>
	  <composite:attribute name="text" default="Loading"/>
	  <composite:attribute name="style"/>
	  <composite:attribute name="styleClass" default="ajaxStatus"/>
	  <composite:attribute name="modal" default="false"/>
	</composite:interface>

	<composite:implementation>
	  <h:outputStylesheet library="deegree" name="css/ajaxStatus.css"/>
	  <h:outputScript name="jsf.js" library="javax.faces" target="head"/>
	  <h:outputScript name="javascript/ajaxStatus.js" library="deegree" target="head"/>
	  
		  <script type="text/javascript">
		    registerAjaxStatus('#{cc.clientId}:msg', #{cc.attrs.modal});
		  </script>
		  <span id="#{cc.clientId}:msg" class="#{cc.attrs.styleClass}" style="display: none;#{cc.attrs.style}">
			  <h:panelGroup rendered="#{cc.attrs.modal}">
				   <div id="PLEASEWAIT">
			        <div class="curved">
			                <b class="b1"></b><b class="b2"></b><b class="b3"></b><b class="b4"></b>
			                <div class="boxcontent">
			                        <p>#{cc.attrs.text}</p>
			                </div>
			                <b class="b4"></b><b class="b3"></b><b class="b2"></b><b class="b1"></b>
			        </div>
		     		</div>
		        <div id="PLEASEWAIT_BG"></div>
				</h:panelGroup>
				
			  <h:panelGroup rendered="#{!cc.attrs.modal}">
				  	#{cc.attrs.text}
			  </h:panelGroup>
	  </span>
		
	</composite:implementation>

</body>
</html>
